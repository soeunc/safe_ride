<!DOCTYPE html>
<html
        lang="en" xmlns:sec="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <title>ì„¸ì´í”„ë¼ì´ë“œ: ì•ˆì „í•œ ë¼ì´ë”©ì˜ ì‹œì‘</title>
    <!-- teamplate : viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--  template : CSSíŒŒì¼ ì ìš©-->
    <link href="/css/app.css" rel="stylesheet">
    <!--  template : í°íŠ¸-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum:wght@300;400;600&display=swap" rel="stylesheet">
    <!--  template : ë¶€íŠ¸ìŠ¤íŠ¸ë©, JS CDN-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <!--ğŸ‘‡ì—¬ê¸°ì— header script ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤ğŸ‘‡-->

    <style>
        #topInfo{
            height: 130px;
        }
        #riding-record {
            display: inline-block; /* ê°€ë¡œë¡œ ë‚˜ì—´í•˜ê¸° ìœ„í•´ blockë ˆë²¨ ìš”ì†Œë¥¼ inline-blockë ˆë²¨ë¡œ ì „í™˜ */
            width: 33%; /* ì˜ì—­ í¬ê¸° ì§€ì • ì•ˆí•´ì£¼ë©´ inline ë ˆë²¨ì²˜ëŸ¼ ë‚´ìš©ë¬¼ ë§Œí¼ë§Œ ì°¨ì§€í•˜ê¸° ë•Œë¬¸ì— í¬ê¸° ì§€ì • */
            border: 2px solid aqua;
            background: orange;
        }
        #prifile-update {
            display: inline-block; /* ê°€ë¡œë¡œ ë‚˜ì—´í•˜ê¸° ìœ„í•´ blockë ˆë²¨ ìš”ì†Œë¥¼ inline-blockë ˆë²¨ë¡œ ì „í™˜ */
            width: 50%; /* ì˜ì—­ í¬ê¸° ì§€ì • ì•ˆí•´ì£¼ë©´ inline ë ˆë²¨ì²˜ëŸ¼ ë‚´ìš©ë¬¼ ë§Œí¼ë§Œ ì°¨ì§€í•˜ê¸° ë•Œë¬¸ì— í¬ê¸° ì§€ì • */
            border: 2px solid aqua;
            background: orange;
        }
        #introduce{
            display: inline-block;
        }
        .badge-grade{
            width: 70px;
        }
        #chart{
            width: 800px;
            height: 400px;
        }
    </style>

    <!--ğŸ‘†ì—¬ê¸°ì— header script ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤ğŸ‘†-->
</head>
<body>
<div class="wrapper">
    <!-- ì‚¬ì´ë“œ ë„¤ë¹„ê²Œì´ì…˜ë°” (ì‚¬ì´ë“œë°”) -->
    <nav id="sidebar" class="sidebar js-sidebar">
        <div class="sidebar-content js-simplebar">
            <a class="sidebar-brand" href="/safe-ride">
                <span class="align-middle">SAFE RIDE</span>
            </a>


            <ul class="sidebar-header">
                <li class="sidebar-header">
                    Weather
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/weather">
                        <i class="align-middle" data-feather="sun"></i> <span class="align-middle"> ì‹¤ì‹œê°„ ë‚ ì”¨</span>
                    </a>
                </li>

                <li class="sidebar-header">
                    Information
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/public-bicycle">
                        <i class="align-middle" data-feather="map-pin"></i> <span class="align-middle">ê³µì˜ìì „ê±° í˜„í™©</span>
                    </a>

                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/safety-direction">
                        <i class="align-middle" data-feather="map"></i> <span class="align-middle">ì•ˆì „í•œ ìì „ê±° ê¸¸ ì•ˆë‚´</span>
                    </a>
                </li>

                <li class="sidebar-header">
                    Community
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/article">
                        <i class="align-middle" data-feather="message-square"></i> <span class="align-middle">ì»¤ë®¤ë‹ˆí‹°</span>
                    </a>
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/matching/list">
                        <i class="align-middle" data-feather="users"></i> <span class="align-middle">ë¼ì´ë” ë§¤ì¹­</span>
                    </a>
                </li>

                <li class="sidebar-nav">
                <li class="sidebar-header">
                    My Page
                </li>

                <!-- TODO : ì¶”í›„ ì‚­ì œ -->
                <li class="sidebar-item">
                    <a class="sidebar-link" href="/safe-ride/login">
                        <i class="align-middle" data-feather="log-in"></i> <span class="align-middle">ë¡œê·¸ì¸</span>
                    </a>
                </li>

                <!-- TODO : ì¶”í›„ ì‚­ì œ -->
                <li class="sidebar-item">
                    <a class="sidebar-link" href="/safe-ride/join">
                        <i class="align-middle" data-feather="user-plus"></i> <span class="align-middle">íšŒì›ê°€ì…</span>
                    </a>
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/safe-ride/myprofile">
                        <i class="align-middle" data-feather="user"></i> <span class="align-middle">ë§ˆì´í˜ì´ì§€</span>
                    </a>
                </li>
            </ul>

            <!-- TODO ë§ˆì´í˜ì´ì§€ OR ë¼ì´ë”© ê¸°ë¡í˜ì´ì§€ -->

            <div class="sidebar-cta">
                <div class="sidebar-cta-content">
                    <strong class="d-inline-block mb-2"> Safety & Healthy</strong>
                    <div class="mb-3 text-sm">
                        ì•ˆì „í•˜ê²Œ ë‹¬ë¦¬ì…¨ë‚˜ìš”? ì˜¤ëŠ˜ì˜ ë¼ì´ë”©ì„ ê¸°ë¡í•´ë³´ì„¸ìš”!
                    </div>
                    <div class="d-grid">
                        <a href="/safe-ride/myprofile" class="btn btn-primary">ê¸°ë¡í•˜ê¸°</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div class="main">
        <nav class="navbar navbar-expand navbar-light navbar-bg">
            <a class="sidebar-toggle js-sidebar-toggle">
                <i class="hamburger align-self-center"></i>
            </a>

            <div class="navbar-collapse collapse">
                <ul class="navbar-nav navbar-align">
                    <li class="nav-item dropdown">
                        <a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-bs-toggle="dropdown">
                            <i class="align-middle" data-feather="settings"></i>
                        </a>

                        <a class="nav-link dropdown-toggle d-none d-sm-inline-block" href="#" data-bs-toggle="dropdown">
                            <img src="img/avatars/avatar.jpg" class="avatar img-fluid rounded me-1" alt="Charles Hall"/> <span
                                class="text-dark">Charles Hall</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a class="dropdown-item" href="pages-profile.html"><i class="align-middle me-1" data-feather="user"></i>
                                Profile</a>
                            <a class="dropdown-item" href="#"><i class="align-middle me-1" data-feather="pie-chart"></i>
                                Analytics</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="index.html"><i class="align-middle me-1" data-feather="settings"></i>
                                Settings & Privacy</a>
                            <a class="dropdown-item" href="#"><i class="align-middle me-1" data-feather="help-circle"></i> Help
                                Center</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Log out</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="main">
            <main class="content">
                <!--ğŸ‘‡ì—¬ê¸°ì— ë‚´ìš© ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤ğŸ‘‡-->
                <div class="container mt-4">
                    <div id="topInfo">
                        <h1 id="introduce">ë°˜ê°‘ìŠµë‹ˆë‹¤, <span sec:authentication="name"></span>ë‹˜!</h1>
                        <span th:if="${#strings.equals(badges.getGrade(), 'QUICK_BOARD')}">
                        <img class="badge-grade" src="/img/badge/kickboard.png" >
                        </span>
                        <span th:if="${#strings.equals(badges.getGrade(), 'BYCICLE')}">
                            <img class="badge-grade" src="/img/badge/bicycle.png">
                        </span>
                        <span th:if="${#strings.equals(badges.getGrade(), 'SCOOTER')}">
                            <img class="badge-grade" src="/img/badge/scooter.png">
                        </span>
                        <span th:if="${#strings.equals(badges.getGrade(), 'MOTOR_CYCLE')}">
                            <img class="badge-grade" src="/img/badge/motorcycle.png">
                        </span>
                    </div>
                    <div id="container">
                        <!--ë¼ì´ë”© ê¸°ë¡-->
                        <div id="riding-record">
                            <h2>ë¼ì´ë”© ê¸°ë¡</h2>
                            <!--ë¼ì´ë”© ê¸°ë¡ì´ ì—†ì„ ë–„-->
                            <div th:if="${#strings.isEmpty(ridingRecord.getTotalRecord())}">
                                <h3>ê¸°ë¡ì´ ì•„ì§ ì—†ìŠµë‹ˆë‹¤!</h3>
                            </div>
                            <!--ë¼ì´ë”© ê¸°ë¡ì´ ì¡´ì¬í•œë‹¤ë©´-->
                            <div th:unless="${#strings.isEmpty(ridingRecord.getTotalRecord())}">
                                <div id="total-record">
                                    <h3>ì´ ê¸°ë¡</h3>
                                    <span>[[${ridingRecord.getTotalRecord()}]]km íƒ”ì–´ìš”! :)</span>
                                </div>
                                <div id="weekly-record">
                                    <h3>ì£¼ê°„ ê¸°ë¡</h3>
                                    <span>[[${ridingRecord.getWeeklyRecord()}]]km íƒ”ì–´ìš”! :)</span>
                                </div>
                                <!--ì˜¤ëŠ˜ì ê¸°ë¡ì´ ì—†ì„ ë–„-->
                                <div th:if="${#strings.isEmpty(ridingRecord.getTodayRecord())}">
                                    <h4>ì˜¤ëŠ˜ ê¸°ë¡ì´ ì•„ì§ ì—†ìŠµë‹ˆë‹¤! ì—´ì‹¬íˆ ë‹¬ë ¤ë´ìš”! :)</h4>
                                </div>
                                <div th:unless="${#strings.isEmpty(ridingRecord.getTodayRecord())}">
                                    <h3>ì˜¤ëŠ˜ ê¸°ë¡</h3>
                                    <span>[[${ridingRecord.getTodayRecord()}]]km íƒ”ì–´ìš”! :)</span>
                                </div>
                            </div>
                            <form action="/safe-ride/myprofile/create-today" method="post">
                                <input id="today-record-input" name="todayRecord" type="number" required placeholder="ì˜¤ëŠ˜ ê¸°ë¡ì„ ì…ë ¥">
                                <input type="submit" value="ì…ë ¥">
                            </form>
                        </div>
                        <div id="chart">
                            <canvas id="bar-chart"></canvas>
                        </div>
                        <!--        <div id="matching-record">-->
                        <!--            <h3>ë§¤ì¹­ê¸°ë¡</h3>-->
                        <!--            <table class="table">-->
                        <!--                <thead>-->
                        <!--                <tr>-->
                        <!--                    <th scope="col">ë§¤ì¹­ ì‹ ì²­ì ID</th>-->
                        <!--                    <th scope="col">í‰ê°€ ì ìˆ˜</th>-->
                        <!--                    <th scope="col">ë¦¬ë·° ì½”ë©˜íŠ¸</th>-->
                        <!--                    <th scope="col">ë¦¬ë·° ì‘ì„±ì ID</th>-->
                        <!--                    <th scope="col">ë¦¬ë·° ë°›ì€ ì‚¬ëŒ ID</th>-->
                        <!--                </tr>-->
                        <!--                </thead>-->
                        <!--                <tbody th:if="${ridingRecord.getManner().id == null}">-->
                        <!--                    <tr>-->
                        <!--                        &lt;!&ndash;Matching&ndash;&gt;-->
                        <!--                        <th scope="col" th:text="ë°ì´í„°ì—†ìŒ"></th>-->
                        <!--                    </tr>-->
                        <!--                </tbody>-->
                        <!--                <tbody th:unless="${ridingRecord.getManner().id == null}">-->
                        <!--                <tr>-->
                        <!--                    &lt;!&ndash;Matching&ndash;&gt;-->
                        <!--                    <th scope="col" th:text="ì‚¬ìš©ì1"></th>-->
                        <!--                    <th scope="col" th:text="ë³„ë‹¤ì„¯ê°œ"></th>-->
                        <!--                    <th scope="col" th:text="ì¬ë°Œì—ˆìŠµë‹ˆë‹¤"></th>-->
                        <!--                    <th scope="col" th:text="ì‚¬ìš©ì1"></th>-->
                        <!--                    <th scope="col" th:text="ì‚¬ìš©ì2"></th>-->
                        <!--                </tr>-->
                        <!--                </tbody>-->
                        <!--            </table>-->
                        <!--        </div>-->

                        <!--í”„ë¡œí•„ ìˆ˜ì •-->
                        <div id="prifile-update">
                            <h2>í”„ë¡œí•„ ìˆ˜ì •</h2>
                            <form action="/safe-ride/myprofile/update" method="post">
                                <div>
                                    <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                                    <input id="password" name="password" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •">
                                </div>
                                <div>
                                    <label for="passwordCk">ë¹„ë°€ë²ˆí˜¸</label>
                                    <input id="passwordCk" name="passwordCk" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • í™•ì¸">
                                </div>
                                <div>
                                    <label for="email">ì´ë©”ì¼</label>
                                    <input id="email" name="email" type="text" th:value="${member.email}">
                                </div>
                                <div>
                                    <label for="nickName">ë‹‰ë„¤ì„</label>
                                    <input id="nickName" name="nickName" type="text" th:value="${member.nickname}">
                                </div>
                                <div>
                                    <label for="phoneNumber">ì „í™”ë²ˆí˜¸</label>
                                    <input id="phoneNumber" name="phoneNumber" type="number" th:value="${member.getPhoneNumber()}">
                                </div>
                                <div>
                                    <label for="birthday">ìƒë…„ì›”ì¼</label>
                                    <input id="birthday" name="birthday" type="number" th:value="${member.getBirthday()}">
                                </div>
                                <div>
                                    <input type="submit" value="ìˆ˜ì •í•˜ê¸°">
                                </div>
                            </form>
                        </div>
                    </div>
                    <form action="/safe-ride/logout">
                        <input type="submit" value="ë¡œê·¸ì•„ì›ƒ">
                    </form>

                    <a href="/safe-ride">í™ˆìœ¼ë¡œ</a>

                </div>
                <!-- ğŸ‘† ì—¬ê¸°ì— ë‚´ìš© ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤ ğŸ‘†-->
            </main>

            <footer class="footer">
                <div class="container-fluid">
                    <div class="row text-muted">
                        <div class="col-6 text-start">
                            <p class="mb-0">
                                <a class="text-muted"
                                   href="https://img.animalplanet.co.kr/news/2019/08/10/700/2w4w02ks9531p3v874c7.jpg"
                                   target="_blank"><strong>Team6 ë¼ì´ë”ìŠ¤</strong></a>
                            </p>
                        </div>
                        <div class="col-6 text-end">
                            <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="text-muted" href="https://github.com/soeunc/safe_ride" target="_blank">Github</a>
                                </li>
                                <li class="list-inline-item">
                                    <a class="text-muted" href="https://www.notion.so/likelion/6-1cc32ef7fbbc4332b81f959fe6d153db"
                                       target="_blank">Notion</a>
                                </li>
                                <li class="list-inline-item">
                                    <a class="text-muted"
                                       href="https://docs.google.com/spreadsheets/d/1GipYE2oyzrQxeagBfsVn9E8ZU_aX-j0JmuzPyywan3k/edit#gid=50422208"
                                       target="_blank">Google sheet</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
</div>
</body>

<!--ğŸ‘‡ì—¬ê¸°ì— ì‚¬ìš©í•˜ëŠ” script ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤ğŸ‘‡-->
<!--chart.js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script th:inline="javascript">

    window.onload = function () {
        //alert
        const alertMsg = [[${msg}]];

        if (alertMsg){
            alert(alertMsg);
        }
    }
    const thisWeek = [[${ridingRecord.thisWeek}]];
    const weeklyRecordList = [[${ridingRecord.weeklyRecordList}]];
    new Chart(document.getElementById("bar-chart"), {
        type: 'bar',
        data: {
            labels: [
                thisWeek.at(0),
                thisWeek.at(1),
                thisWeek.at(2),
                thisWeek.at(3),
                thisWeek.at(4),
                thisWeek.at(5),
                thisWeek.at(6)],
            datasets: [
                {
                    label: "Population (millions)",
                    backgroundColor: ["#ff0000", "#ff7f27","#ffd900","#00db07","#00b7ff","#3700dc","#a600ff"],
                    data: [
                        weeklyRecordList.at(0),
                        weeklyRecordList.at(1),
                        weeklyRecordList.at(2),
                        weeklyRecordList.at(3),
                        weeklyRecordList.at(4),
                        weeklyRecordList.at(5),
                        weeklyRecordList.at(6),
                    ]
                }
            ]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: 'ì£¼ê°„ ë¼ì´ë”© ê¸°ë¡'
            }
        }
    });
</script>
<!--ğŸ‘†ì—¬ê¸°ì— ì‚¬ìš©í•˜ëŠ” script ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤ğŸ‘†-->
<script src="/js/app.js"></script> <!-- template -->
</html>